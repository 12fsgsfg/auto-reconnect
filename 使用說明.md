# Auto Reconnect Plugin ä½¿ç”¨èªªæ˜

## ğŸš€ å¿«é€Ÿé–‹å§‹

### æ–¹æ³•1ï¼šä½¿ç”¨ç°¡åŒ–ç‰ˆï¼ˆæ¨è–¦æ–°æ‰‹ï¼‰
1. é‹è¡Œ `build-simple.bat` ç·¨è­¯æ’ä»¶
2. é‹è¡Œ `test-plugin.bat` æ¸¬è©¦æ’ä»¶åŠŸèƒ½
3. æŸ¥çœ‹æ§åˆ¶å°è¼¸å‡ºï¼Œäº†è§£æ’ä»¶å·¥ä½œåŸç†

### æ–¹æ³•2ï¼šä½¿ç”¨å®Œæ•´ç‰ˆï¼ˆéœ€è¦Velocityç’°å¢ƒï¼‰
1. é‹è¡Œ `download-deps.bat` ä¸‹è¼‰ä¾è³´åº«
2. é‹è¡Œ `build.bat` ç·¨è­¯å®Œæ•´ç‰ˆæ’ä»¶
3. å°‡ç”Ÿæˆçš„JARæ–‡ä»¶æ”¾å…¥Velocityçš„pluginsç›®éŒ„

## ğŸ“ æ–‡ä»¶èªªæ˜

- **`SimpleAutoReconnectPlugin.java`** - ç°¡åŒ–ç‰ˆæ’ä»¶ï¼Œä¸ä¾è³´å¤–éƒ¨åº«
- **`build-simple.bat`** - ç·¨è­¯ç°¡åŒ–ç‰ˆæ’ä»¶
- **`test-plugin.bat`** - æ¸¬è©¦æ’ä»¶åŠŸèƒ½
- **`download-deps.bat`** - ä¸‹è¼‰å®Œæ•´ç‰ˆä¾è³´
- **`build.bat`** - ç·¨è­¯å®Œæ•´ç‰ˆæ’ä»¶

## ğŸ”§ æ’ä»¶åŠŸèƒ½

### æ ¸å¿ƒç‰¹æ€§
- âœ… **é›™åˆ†æµç®¡ç†**: lobbyå’Œwaitæœå‹™å™¨
- âœ… **è‡ªå‹•é‡é€£**: waitæœå‹™å™¨é›¢ç·šæ™‚è‡ªå‹•é‡é€£
- âœ… **æ™ºèƒ½ç›£æ§**: æ¯10ç§’æª¢æŸ¥ä¸€æ¬¡æœå‹™å™¨ç‹€æ…‹
- âœ… **å»¶é²é‡é€£**: 5ç§’å»¶é²é¿å…é »ç¹é‡é€£
- âœ… **é‡è©¦æ©Ÿåˆ¶**: æœ€å¤š10æ¬¡é‡é€£å˜—è©¦

### é…ç½®åƒæ•¸
```java
private static final long CHECK_INTERVAL = 10;        // æª¢æŸ¥é–“éš”ï¼ˆç§’ï¼‰
private static final long RECONNECT_DELAY = 5;        // é‡é€£å»¶é²ï¼ˆç§’ï¼‰
private static final int MAX_RECONNECT_ATTEMPTS = 10; // æœ€å¤§é‡é€£æ¬¡æ•¸
```

## ğŸ§ª æ¸¬è©¦èªªæ˜

### æ¸¬è©¦æµç¨‹
1. **å•Ÿå‹•éšæ®µ**: æ’ä»¶å•Ÿå‹•ï¼Œæœå‹™å™¨åœ¨ç·š
2. **é›¢ç·šæ¨¡æ“¬**: 15ç§’å¾Œæ¨¡æ“¬æœå‹™å™¨é›¢ç·š
3. **è‡ªå‹•é‡é€£**: è§¸ç™¼é‡é€£æ©Ÿåˆ¶ï¼Œæ¯10ç§’æª¢æŸ¥
4. **é‡é€£å˜—è©¦**: 5ç§’å»¶é²å¾Œå˜—è©¦é‡é€£
5. **çµæœè™•ç†**: æˆåŠŸå‰‡é‡ç½®è¨ˆæ•¸å™¨ï¼Œå¤±æ•—å‰‡ç¹¼çºŒå˜—è©¦

### é æœŸè¼¸å‡º
```
å•Ÿå‹•ç°¡åŒ–ç‰ˆè‡ªå‹•é‡é€£ç®¡ç†å™¨...
ç°¡åŒ–ç‰ˆè‡ªå‹•é‡é€£ç®¡ç†å™¨å·²å•Ÿå‹•ï¼Œæª¢æŸ¥é–“éš”: 10 ç§’
æ¨¡æ“¬Waitæœå‹™å™¨é›¢ç·š...
Waitæœå‹™å™¨é›¢ç·šï¼Œå˜—è©¦é‡é€£... (å˜—è©¦ 1/10)
æ­£åœ¨å˜—è©¦é‡é€£Waitæœå‹™å™¨...
æ¨¡æ“¬é‡é€£æˆåŠŸ
Waitæœå‹™å™¨é‡é€£æˆåŠŸï¼
```

## ğŸš¨ å¸¸è¦‹å•é¡Œ

### Q: ç·¨è­¯å¤±æ•—æ€éº¼è¾¦ï¼Ÿ
A: ç¢ºä¿Javaç‰ˆæœ¬ >= 11ï¼Œä½¿ç”¨ `java -version` æª¢æŸ¥

### Q: å¦‚ä½•ä¿®æ”¹é‡é€£åƒæ•¸ï¼Ÿ
A: ç·¨è¼¯ `SimpleAutoReconnectPlugin.java` ä¸­çš„å¸¸é‡å€¼

### Q: å¦‚ä½•é›†æˆåˆ°Velocityï¼Ÿ
A: ä½¿ç”¨å®Œæ•´ç‰ˆæ’ä»¶ï¼ŒæŒ‰ç…§Velocityæ’ä»¶é–‹ç™¼æ–‡æª”æ“ä½œ

### Q: æ’ä»¶æ—¥èªŒåœ¨å“ªè£¡ï¼Ÿ
A: ç°¡åŒ–ç‰ˆè¼¸å‡ºåˆ°æ§åˆ¶å°ï¼Œå®Œæ•´ç‰ˆè¼¸å‡ºåˆ°Velocityæ—¥èªŒ

## ğŸ“š é€²éšä½¿ç”¨

### è‡ªå®šç¾©é‡é€£ç­–ç•¥
```java
// ä¿®æ”¹æª¢æŸ¥é–“éš”
private static final long CHECK_INTERVAL = 30; // æ”¹ç‚º30ç§’

// ä¿®æ”¹é‡é€£å»¶é²
private static final long RECONNECT_DELAY = 10; // æ”¹ç‚º10ç§’

// ä¿®æ”¹æœ€å¤§å˜—è©¦æ¬¡æ•¸
private static final int MAX_RECONNECT_ATTEMPTS = 20; // æ”¹ç‚º20æ¬¡
```

### æ·»åŠ æ›´å¤šæœå‹™å™¨
```java
// åœ¨ServerManagerä¸­æ·»åŠ æ–°æœå‹™å™¨
public static final String GAME_SERVER = "game";
public static final String MINIGAME_SERVER = "minigame";
```

## ğŸ”— ç›¸é—œè³‡æº

- [Velocityå®˜æ–¹æ–‡æª”](https://docs.velocitypowered.com/)
- [Javaä¸¦ç™¼ç·¨ç¨‹](https://docs.oracle.com/javase/tutorial/essential/concurrency/)
- [Mavenä½¿ç”¨æŒ‡å—](https://maven.apache.org/guides/)

## ğŸ“ æŠ€è¡“æ”¯æŒ

å¦‚æœé‡åˆ°å•é¡Œï¼š
1. æª¢æŸ¥Javaç‰ˆæœ¬å’Œç’°å¢ƒè®Šé‡
2. æŸ¥çœ‹æ§åˆ¶å°éŒ¯èª¤ä¿¡æ¯
3. ç¢ºèªæ–‡ä»¶è·¯å¾‘æ­£ç¢º
4. åƒè€ƒREADME.mdå’ŒPROJECT_STRUCTURE.md

---

**æ³¨æ„**: ç°¡åŒ–ç‰ˆåƒ…ç”¨æ–¼æ¸¬è©¦å’Œå­¸ç¿’ï¼Œç”Ÿç”¢ç’°å¢ƒè«‹ä½¿ç”¨å®Œæ•´ç‰ˆæ’ä»¶ï¼
